<% provide :title, 'admin::orders#show' %>

<div class="row">
  <div class="col-md-12">
    <h2 class="text-center my-3">
      订单明细 <small><%= render_order_paid_state(@order) %></small>
    </h2>

    <%= render "admin/orders/state_option", order: @order %>

    <p>
      <span class="bg-light">订单号：<%= @order.token %></span> <br>
      <span class="bg-light">生成日期：<%= @order.created_at.to_s(:long) %></span>
    </p>

    <div class="table-responsive">
      <table class="table table-bordered">
        <thead class="thead-light">
          <tr>
            <th width="80%">商品明细</th>
            <th>单价</th>
            <th>数量</th>
          </tr>
        </thead>
        <tbody>
          <% @product_lists.each do |product_list| %>
          <tr>
            <td><%= product_list.product_name %></td>
            <td><%= product_list.product_price %></td>
            <td><%= product_list.quantity %></td>
          </tr>
          <% end %>
        </tbody>
      </table>
    </div>

    <div class="clearfix">
      <span class="float-right">
        总计 <span class="text-danger lead"><%= @order.total %></span> ¥
      </span>
    </div>

    <h2 class="text-center my-3">寄送信息</h2>

    <table class="table table-bordered table-striped">
      <tbody>
        <tr>
          <td>订购人</td>
        </tr>
        <tr>
          <td>
            <%= @order.billing_name %> - <%= @order.billing_address %>
          </td>
        </tr>
        <tr>
          <td>收件人</td>
        </tr>
        <tr>
          <td>
            <%= @order.shipping_name %> - <%= @order.shipping_address %>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
