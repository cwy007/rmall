<tr>
  <td>
    <%= link_to product_path(cart_item.product) do %>
    <% if cart_item.product.image.present? %>
    <%= image_tag(cart_item.product.image, class: "img-thumbnail") %>
    <% else %>
    <%= image_tag "http://via.placeholder.com/200x200?text=No+Pic", class: "img-thumbnail" %>
    <% end %>
    <% end %>
  </td>
  <td>
    <%= link_to cart_item.product.title, product_path(cart_item.product) %>
  </td>
  <td>
    <%= cart_item.product.price %>
  </td>
  <td>
    <%= simple_form_for cart_item, url: cart_item_path(cart_item), html: { class: "form-inline" } do |f| %>
    <%= f.input :quantity, collection: 1..cart_item.product.quantity, label: false, input_html: { class: "mr-2" } %>
    <%= f.submit "更新", data: { disable_with: "Submitting.." }, class: "btn btn-primary" %>
    <% end %>
  </td>
  <td>
    <%= link_to fa_icon("trash", class: "text-danger fa-2x align-middle"), cart_item_path(cart_item), method: :delete,
      data: { toggle: "tooltip", placement: "right" }, title: "删除", id: "#{cart_item.id}_delete" %>
  </td>
</tr>

<script type="text/javascript">
  $("#<%= cart_item.id %>_delete").tooltip('enable');
</script>
